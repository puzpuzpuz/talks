---
marp: true
theme: default
---

<style>
section.lead h1 {
  padding-top: 12px;
}

section.lead h1, section.lead h2 {
  padding-left: 30px;
}

section {
  font-size: 30px;
}

h1 {
  font-size: 42px;
  color: #5c5c5c;
}

pre {
  line-height: 1.4;
}

img[alt~="center"] {
  display: block;
  margin: 0 auto;
}

table td {
  width: 150px;
}
</style>

<!-- _class: lead -->

# –ù–µ–º–Ω–æ–≥–æ –æ–± –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞.<br/>–ö–∞–∑–∞–ª–æ—Å—å –±—ã, –ø—Ä–∏ —á–µ–º —Ç—É—Ç Node.js?

## –ê–Ω–¥—Ä–µ–π –ü–µ—á–∫—É—Ä–æ–≤

![bg](./images/hazelcast-bg.jpg)

---

<!-- paginate: true -->

# –û –¥–æ–∫–ª–∞–¥—á–∏–∫–µ

* –ü–∏—à—É –Ω–∞ Java (–æ—á–µ–Ω—å –¥–æ–ª–≥–æ), Node.js (–¥–æ–ª–≥–æ)
* Node.js core collaborator
* –ò–Ω—Ç–µ—Ä–µ—Å—ã: –≤–µ–±, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
* –ú–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ç—É—Ç:

  - https://twitter.com/AndreyPechkurov
  - https://github.com/puzpuzpuz
  - https://medium.com/@apechkurov

---

![h:80](./images/imdg-logo.jpg)

* Hazelcast In-Memory Data Grid (IMDG)
* –ë–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
* –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä - `Map`, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–∞–∫ –∫—ç—à
* –ù–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ Java, —É–º–µ–µ—Ç embedded –∏ standalone —Ä–µ–∂–∏–º—ã
* –•–æ—Ä–æ—à–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ
* –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ high-load –∏ low-latency –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
* –û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: IoT, in-memory stream processing, payment processing, fraud detection –∏ —Ç.–¥.

---

![h:80](./images/imdg-logo.jpg)

* Hazelcast In-Memory Data Grid (IMDG)
* –•–æ—Ç–∏—Ç–µ production-ready Raft? –£ –Ω–∞—Å –µ—Å—Ç—å CP Subsystem (—Å Jepsen —Ç–µ—Å—Ç–∞–º–∏ –∏ –ª–æ–∫–∞–º–∏ üôÇ)
* https://docs.hazelcast.org/docs/4.0.1/manual/html-single/index.html#cp-subsystem

---

<br/><br/>

# Hazelcast IMDG Node.js client

<style scoped>
section {
  background: #fff url(images/hazelcast-plus-node.jpg) no-repeat center 80px;
  background-size: 400px;
}
</style>

* https://github.com/hazelcast/hazelcast-nodejs-client
* –î–æ–∫–ª–∞–¥ –ø—Ä–æ –∏—Å—Ç–æ—Ä–∏—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
  - –í–∏–¥–µ–æ: https://youtu.be/CSnmpbZsVD4
  - –°–ª–∞–π–¥—ã: https://github.com/puzpuzpuz/talks/tree/master/2019-ru-nodejs-library-optimization
* P.S. –ü–æ–¥–¥–µ—Ä–∂–∫–∏ CP Subsystem –≤ —ç—Ç–æ–º –∫–ª–∏–µ–Ω—Ç–µ –ø–æ–∫–∞ –Ω–µ—Ç, –Ω–æ –æ–Ω–∞ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç

---

# –ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è

* –ù–∞—á–∏–Ω–∞–µ–º –ø—É–≥–∞—Ç—å—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
* –ó–Ω–∞–∫–æ–º–∏–º—Å—è —Å –≤–∏–¥–∞–º–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ (consistency)
* CAP —Ç–µ–æ—Ä–µ–º–∞ –∏ –ø—Ä–æ—á–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
* –ß—Ç–æ –∑–∞ –∑–≤–µ—Ä—å - –∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞?
* –ò—Å—Ç–æ—Ä–∏—è: Paxos –∏ –µ–≥–æ –ø–æ–¥–≤–∏–¥—ã, Raft
* CASPaxos, –∫–∞–∫ –æ–¥–∏–Ω –∏–∑ –Ω–µ–¥–∞–≤–Ω–∏—Ö Paxos-–æ–±—Ä–∞–∑–Ω—ã—Ö
* Pet project: CASPaxos –Ω–∞ Node.js

---

<style scoped>
section h1 {
  position: absolute;
  top: 261px;
  left: 90px;
}
</style>

![bg](./images/hazelcast-bg-no-logo.jpg)

# –ù–∞—á–∏–Ω–∞–µ–º –ø—É–≥–∞—Ç—å—Å—è<br/>—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

---

# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

* –ù–∞–∑–æ–≤–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—É, —Ö—Ä–∞–Ω—è—â—É—é —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–æ–±—â–µ–µ) –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö, —Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —Å–µ—Ç—å—é
* –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏ –±—É–¥–µ–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ

---

# –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –¥–æ —É–∂–∞—Å–∞ –∏—Å—Ç–æ—Ä–∏—è

* –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –±—ã–ª–∏ –†–°–£–ë–î –Ω–∞ –±–æ–æ–æ–ª—å—à–∏—Ö, –¥–æ—Ä–æ–≥–∏—Ö –∂–µ–ª–µ–∑–∫–∞—Ö
* –û–¥–Ω–∞–∫–æ, –≤ 80-90—Ö —É–∂–µ –±—ã–ª–∏ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º
* –í –Ω–∞—á–∞–ª–µ 2000—Ö –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ (–Ω–∞–º–µ–∫ –Ω–∞ Google) —Å–¥–µ–ª–∞–ª–∏ —Å—Ç–∞–≤–∫—É –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∂–µ–ª–µ–∑–æ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
* –û—Å–Ω–æ–≤–Ω–æ–π –±—É–º –ø—Ä–∏—à–µ–ª—Å—è –Ω–∞ 2010–µ –≥–æ–¥—ã

---

# –î–≤–∞ –º–∏—Ä–∞

|–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è&nbsp;—Å–∏—Å—Ç–µ–º–∞|–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è&nbsp;—Å–∏—Å—Ç–µ–º–∞|
|---|---|
|–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ|–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ|
|–õ–æ–∫–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã|–°–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã|
|< p –æ—Ç–∫–∞–∑–∞ –º–∞—à–∏–Ω—ã|> p –æ—Ç–∫–∞–∑–∞ –º–∞—à–∏–Ω—ã|
|> –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –æ—Ç–∫–∞–∑–∞|< –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –æ—Ç–∫–∞–∑–∞|

---

# Fallacies of distributed computing

* –ò–Ω–∂–µ–Ω–µ—Ä—ã –∏–∑ Sun (RIP) —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–ª–∏ —Å–ø–∏—Å–æ–∫ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–π (1994):
  - The network is reliable
  - Latency is zero
  - Bandwidth is infinite
  - The network is secure
  - Topology doesn't change
  - There is one administrator
  - Transport cost is zero
  - The network is homogeneous
* P.S. –î–æ–±–∞–≤–∏–º —Å—é–¥–∞ "Clock is in sync"

---

# –°–µ—Ç—å

TODO –ø–æ–ª—É—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏

---

# –ß–∞—Å—ã

TODO –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—Ä–∏–≤—ã—á–Ω–æ–º —Å–º—ã—Å–ª–µ

---

# –ß–µ–≥–æ –º—ã –∂–¥–µ–º?

* –û—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö –º—ã –∂–¥–µ–º —Ç–æ–≥–æ –∂–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è, —á—Ç–æ –∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ
* –ê –∏–º–µ–Ω–Ω–æ - —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, –∫–∞–∫ –µ—Å–ª–∏ –±—ã —ç—Ç–æ –±—ã–ª–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–ø–æ–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è –Ω–∞ —ç—Ç–æ–π —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ)

---

# –§–∏–≥–Ω—è –≤–æ–ø—Ä–æ—Å - —Å–µ–π—á–∞—Å –ø—Ä–∏–¥—É–º–∞–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º

1. –õ—é–±–æ–π —É–∑–µ–ª –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–ø—Ä–æ—á–∏—Ç–∞—Ç—å/–∑–∞–ø–∏—Å–∞—Ç—å)
2. –ó–∞—Ç–µ–º - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É–∑–ª—ã
3. –ñ–¥–µ—Ç –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ (–∫–æ–Ω—Å–µ–Ω—Å—É—Å –∂–µ–∂ üòÅ)
4. –î–æ–∂–¥–∞–≤—à–∏—Å—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ

---

# –ß—Ç–æ –Ω–µ —Ç–∞–∫ —Å –Ω–∞—à–∏–º –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ–º?

![h:550 center](./images/primitive-consensus.png)

---

<style scoped>
section h1 {
  position: absolute;
  top: 261px;
  left: 90px;
}
</style>

![bg](./images/hazelcast-bg-no-logo.jpg)

# –ó–Ω–∞–∫–æ–º–∏–º—Å—è —Å –≤–∏–¥–∞–º–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ (consistency)

---

<style scoped>
section h1 {
  position: absolute;
  top: 261px;
  left: 90px;
}
</style>

![bg](./images/hazelcast-bg-no-logo.jpg)

# CAP —Ç–µ–æ—Ä–µ–º–∞ –∏ –ø—Ä–æ—á–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

<style scoped>
section h1 {
  position: absolute;
  top: 261px;
  left: 90px;
}
</style>

![bg](./images/hazelcast-bg-no-logo.jpg)

# –ß—Ç–æ –∑–∞ –∑–≤–µ—Ä—å - –∞–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞?

<!--
TLA+
Jepsen
-->

---

<style scoped>
section h1 {
  position: absolute;
  top: 261px;
  left: 90px;
}
</style>

![bg](./images/hazelcast-bg-no-logo.jpg)

# –ò—Å—Ç–æ—Ä–∏—è: Paxos –∏ –µ–≥–æ –ø–æ–¥–≤–∏–¥—ã, Raft

---

<style scoped>
section h1 {
  position: absolute;
  top: 261px;
  left: 90px;
}
</style>

![bg](./images/hazelcast-bg-no-logo.jpg)

# CASPaxos, –∫–∞–∫ –æ–¥–∏–Ω –∏–∑ –Ω–µ–¥–∞–≤–Ω–∏—Ö Paxos-–æ–±—Ä–∞–∑–Ω—ã—Ö

---

<style scoped>
section h1 {
  position: absolute;
  top: 261px;
  left: 90px;
}
</style>

![bg](./images/hazelcast-bg-no-logo.jpg)

# Pet project: CASPaxos –Ω–∞ Node.js

<!--
TODO list –ø—Ä–æ–µ–∫—Ç–∞
-->

---

# –î–µ–º–æ (–µ—Å–ª–∏ —ç—Ç–æ –º–æ–∂–Ω–æ —Ç–∞–∫ –Ω–∞–∑–≤–∞—Ç—å)

![h:500 center](./images/demo.png)

---

<br/><br/>

# Call to Action

<style scoped>
section {
  background: #fff url(images/hazelcast-plus-node.jpg) no-repeat center 80px;
  background-size: 400px;
}
</style>

* –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –±–æ—è—Ç—å—Å—è - –Ω–∞ server-side –Ω–µ —Ö–æ–¥–∏—Ç—å
* –í—Å–µ, –∫–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏<br/>(–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã) - welcome
* https://github.com/hazelcast/hazelcast-nodejs-client
* P.S. Contributions are welcome as well

---

# –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ!

![w:400 center](./images/slides-qr-code.png)

---

# –ü–æ–ª–µ–∑–Ω—ã–µ –∫–Ω–∏–≥–∏ –∏ —Å—Å—ã–ª–∫–∏

* Designing Data-Intensive Applications, Martin Kleppmann, 2017
* CASPaxos: Replicated State Machines without logs, Denis Rystsov, 2018 - https://arxiv.org/abs/1802.07000
